# mindbody_public_api
#
# This file was automatically generated by APIMATIC v2.0
# ( https://apimatic.io ).

require 'date'
module MindbodyPublicApi
  # AddContactLogRequest Model.
  class AddContactLogRequest < BaseModel
    SKIP = Object.new
    private_constant :SKIP

    # The ID of the client whose contact log is being added.
    # @return [String]
    attr_accessor :client_id

    # The ID of the staff member to whom the contact log is assigned.
    # @return [Integer]
    attr_accessor :assigned_to_staff_id

    # The body of the contact log.
    # @return [String]
    attr_accessor :text

    # The date by which the assigned staff member should complete this contact
    # log.
    # @return [DateTime]
    attr_accessor :followup_by_date

    # How the client wants to be contacted.
    # @return [String]
    attr_accessor :contact_method

    # The name of the person to be contacted by the assigned staff member.
    # @return [String]
    attr_accessor :contact_name

    # When `true`, indicates that the contact log is complete.
    # When `false`, indicates the contact log isn’t complete.
    # @return [TrueClass | FalseClass]
    attr_accessor :is_complete

    # Any comments on the contact log.
    # @return [Array[String]]
    attr_accessor :comments

    # The contact log types used to tag this contact log.
    # @return [Array[AddContactLogType]]
    attr_accessor :types

    # When `true`, indicates that this is a test request and no data is inserted
    # into the subscriber’s database.<br />
    # When `false`, the database is updated.
    # @return [TrueClass | FalseClass]
    attr_accessor :test

    # A mapping from model property names to API property names.
    def self.names
      @_hash = {} if @_hash.nil?
      @_hash['client_id'] = 'ClientId'
      @_hash['assigned_to_staff_id'] = 'AssignedToStaffId'
      @_hash['text'] = 'Text'
      @_hash['followup_by_date'] = 'FollowupByDate'
      @_hash['contact_method'] = 'ContactMethod'
      @_hash['contact_name'] = 'ContactName'
      @_hash['is_complete'] = 'IsComplete'
      @_hash['comments'] = 'Comments'
      @_hash['types'] = 'Types'
      @_hash['test'] = 'Test'
      @_hash
    end

    # An array for optional fields
    def self.optionals
      %w[
        assigned_to_staff_id
        text
        followup_by_date
        contact_name
        is_complete
        comments
        types
        test
      ]
    end

    # An array for nullable fields
    def self.nullables
      []
    end

    def initialize(client_id = nil, contact_method = nil,
                   assigned_to_staff_id = SKIP, text = SKIP,
                   followup_by_date = SKIP, contact_name = SKIP,
                   is_complete = SKIP, comments = SKIP, types = SKIP,
                   test = SKIP)
      @client_id = client_id
      @assigned_to_staff_id = assigned_to_staff_id unless assigned_to_staff_id == SKIP
      @text = text unless text == SKIP
      @followup_by_date = followup_by_date unless followup_by_date == SKIP
      @contact_method = contact_method
      @contact_name = contact_name unless contact_name == SKIP
      @is_complete = is_complete unless is_complete == SKIP
      @comments = comments unless comments == SKIP
      @types = types unless types == SKIP
      @test = test unless test == SKIP
    end

    # Creates an instance of the object from a hash.
    def self.from_hash(hash)
      return nil unless hash

      # Extract variables from the hash.
      client_id = hash.key?('ClientId') ? hash['ClientId'] : nil
      contact_method = hash.key?('ContactMethod') ? hash['ContactMethod'] : nil
      assigned_to_staff_id =
        hash.key?('AssignedToStaffId') ? hash['AssignedToStaffId'] : SKIP
      text = hash.key?('Text') ? hash['Text'] : SKIP
      followup_by_date = if hash.key?('FollowupByDate')
                           (DateTimeHelper.from_rfc3339(hash['FollowupByDate']) if hash['FollowupByDate'])
                         else
                           SKIP
                         end
      contact_name = hash.key?('ContactName') ? hash['ContactName'] : SKIP
      is_complete = hash.key?('IsComplete') ? hash['IsComplete'] : SKIP
      comments = hash.key?('Comments') ? hash['Comments'] : SKIP
      # Parameter is an array, so we need to iterate through it
      types = nil
      unless hash['Types'].nil?
        types = []
        hash['Types'].each do |structure|
          types << (AddContactLogType.from_hash(structure) if structure)
        end
      end

      types = SKIP unless hash.key?('Types')
      test = hash.key?('Test') ? hash['Test'] : SKIP

      # Create object from extracted values.
      AddContactLogRequest.new(client_id,
                               contact_method,
                               assigned_to_staff_id,
                               text,
                               followup_by_date,
                               contact_name,
                               is_complete,
                               comments,
                               types,
                               test)
    end

    def to_custom_followup_by_date
      DateTimeHelper.to_rfc3339(followup_by_date)
    end
  end
end
